#summary WIP details for getting Buildroot setup for COGlinux.

= Introduction =

*!!!!WORK - IN - PROGRESS!!!!*

_*!!Use at your own risk!!*_


= Details =

First we need to grab the latest SVN snapshot, and setup buildroot.

{{{
cd ~/dev
svn co svn://uclibc.org/trunk/buildroot
cd ~/dev/buildroot
make menuconfig
}}}

Most of the settings are obvious. The main one to modify is the location of the busy box configuration file. Included in the Downloads section here is a slimmed down BB configuration that matches the original coglinux.jffs2 contents.

We are building coglinux separately, so no need to build a Linux kernel.

For the Target filesystem options, make sure that 'jffs2 root filesystem' is selected. And the 'Memory Type' is changed to '4 kB pagesize and 64 kB erase size'.

Now we need to prepare the target directory structure, and download the latest sources.

{{{
make source
}}}

Finally we can copy over the coglinux root filesystem device table into the generic target. And run the final make.

{{{
cp ~/dev/rootfs/devtable.txt ~/dev/buildroot/target/generic/device_table.txt
sudo apt-get install liblzo2-dev acl-dev 
make WITHOUT_XATTR=1
}}}