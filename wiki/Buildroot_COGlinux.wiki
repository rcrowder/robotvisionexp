#summary WIP details for getting Buildroot setup for COGlinux.

= Introduction =

*!!!!WORK - IN - PROGRESS!!!!*

_*!!Use at your own risk!!*_


= Details =

First we need to grab the latest SVN snapshot.

{{{
cd ~/dev
svn co svn://uclibc.org/trunk/buildroot
}}}

Now for the latest MTD GIT

{{{
cd ~/dev
git clone git://git.infradead.org/mtd-2.6.git mtd-2.6
}}}

And make sure that the baseline default VCMX212 config is used.

BUSYBOX_CONFIG_FILE=~/dev/busybox_vcmx212_defconfig

Tar up the VC CVS 2.6.22 linux.

{{{
cd ~/dev/coglinux
mv coglinux-2.6.22 linux-2.6.22-vc
cd linux-2.6.22-vc/arch/arm/configs
cp vcmx212_defconfig arm_defconfig
cd ~/dev/coglinux
tar -cvf linux-2.6.22-vc.tar linux-2.6.22-vc/
bzip2 -c linux-2.6.22-vc.tar > linux-2.6.22-vc.tar.bz2
rm linux-2.6.22.tar
mkdir ~/dev/buildroot/dl
cp linux-2.6.22-vc.tar.bz2 ~/dev/buildroot/dl
}}}

Setup buildroot config

{{{
cd ~/dev/buildroot
make menuconfig
gedit .config (to overcome issues with Linux header version)
make source
cp ~/dev/coglinux/rootfs/devtable.txt ~/dev/buildroot/target/generic/device_table.txt
make
}}}

{{{
sudo apt-get install liblzo2-dev acl-dev 
make WITHOUT_XATTR=1
}}}

{{{
gedit drivers/mtd/chips/cfi_cmdset_0001.c : do_erase_oneblock() function, Change line to "int retries = 30;"
}}}